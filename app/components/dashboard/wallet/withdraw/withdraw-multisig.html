<wizard name="withdrawMultisig" template="/shared/templates/angular-wizard/wizard.html" indicators-position="top" class="modal-body">
    <wz-step ng-form name="withdrawMultisig" wz-title="{{ $ctrl.multisigWizard.step1.titles.main }}" wz-heading-title="{{ $ctrl.multisigWizard.step1.titles.heading }}">
        <div class="row">
            <div class="col-xs-12">
                <response-messages message="$ctrl.multisigWizard.step1.responseMessage"></response-messages>
            </div>
        </div>

        <div ng-if="!withdrawMultisig.amount.$valid || $ctrl.model.value <= 0" class="alert alert-danger" role="alert" translate>Invalid amount</div>

        <div class="padding-bottom-15">
            <currency-selector border="none"></currency-selector>
        </div>

        <translate>Amount to send</translate> ({{null|money}}):
        <input ng-pattern="/^[0-9]+(\.[0-9]{1,8})?$/" type="text" class="form-control" ng-disabled="$ctrl.fixedValue" name="amount" ng-model="$ctrl.model.value" money-input value="{{$ctrl.model.value}}" />
        <br>
        <a ng-hide="$ctrl.fixedValue" style="font-size: 90%" href="" ng-click="$ctrl.model.value = $ctrl.balance.balance" translate>Click here to select all the available balance of {{$ctrl.balance.balance|money}}.</a>
        <br>
        <br>
        <translate>Transaction description</translate>
        <i class="fa fa-info-circle" tooltip tooltip-content="{{'Explain where these funds are going; this information will be public.'|translate}}"></i>:
        <textarea ng-model="$ctrl.model.description" ng-disabled="$ctrl.fixedDescription">
                {{$ctrl.model.description}}
            </textarea>
        <br>
        <translate>Destination address</translate>:
        <input type="text" class="form-control" value="$ctrl.model.destination" ng-disabled="$ctrl.fixedDestination" ng-model="$ctrl.model.destination" />
        <hr>

        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-lg-right text-md-right text-sm-right text-xs-center">
                <button type="button" class="btn btn-default btn-xs-block" loading-disabled="!withdrawMultisig.$valid || $ctrl.model.value <= 0 || !$ctrl.model.description || $ctrl.model.description.length < 8" loading="$ctrl.multisigWizard.step1.loading" ng-click="$ctrl.withdrawFeeDo();" translate>Next</button>
            </div>
        </div>
    </wz-step>


    <!-- Fee and confirmation -->
    <wz-step wz-title="{{ $ctrl.multisigWizard.step2.titles.main }}" wz-heading-title="{{ $ctrl.multisigWizard.step2.titles.heading }}">
        <div class="row">
            <div class="col-xs-12">
                <response-messages message="$ctrl.multisigWizard.step2.responseMessage"></response-messages>
            </div>
        </div>

        <translate>Amount to send</translate>: {{$ctrl.model.vvalue|money}}
        <br>
        <span style="font-size: 80%;">
            <translate>An additional fee of {{$ctrl.model.fee|money}} is automatically added to assure that the transaction will be confirmed.</translate>
            <translate>The total amount spent will be {{($ctrl.model.vvalue + $ctrl.model.fee)|money}}</translate>
        </span>
        <br>
        <br>
        <translate>Transaction description</translate>:
        <span style="font-size: 80%;">{{$ctrl.model.description}}</span>
        <br>
        <translate>Destination address</translate>:
        <span style="font-size: 80%;">{{$ctrl.model.destination}}</span>
        <br>
        <hr>
        <div ng-include="'components/dashboard/wallet/withdraw/fee-selector.html'"></div>
        </div>
        <hr>
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 text-lg-left text-md-left text-sm-left text-xs-center">
                <button type="button" class="btn btn-danger btn-xs-block" ng-click="$ctrl.multisigWizard.step2.previous()" translate>Go back</button>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 text-lg-right text-md-right text-sm-right text-xs-center margin-xs-top-5">
                <button type="button" class="btn btn-default btn-xs-block" loading="$ctrl.multisigWizard.step2.loading" ng-click="$ctrl.multisigWizard.step2.submit();" translate>Send</button>
            </div>
        </div>
    </wz-step>


    <wz-step wz-title="{{ $ctrl.multisigWizard.step3.titles.main }}" wz-heading-title="{{ $ctrl.multisigWizard.step3.titles.heading }}">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center completed-img">
                <img src="/media/completed-green.png">
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center margin-top-20 completed-text">
                <p>
                    <translate>Your transaction has been prepared; the transaction need to be signed by {{$ctrl.wallet.multisig.n}} wallet administrators (an email is sent to them)</translate>.
                    <br>
                    <br>
                </p>
            </div>
        </div>
    </wz-step>
</wizard>